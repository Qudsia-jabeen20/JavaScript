<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
 
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f9f9f9;
    padding: 20px;
  }

  form {
    max-width: 400px;
    margin: auto;
    padding: 20px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  }

  label {
    display: block;
    margin-top: 12px;
    font-weight: bold;
  }

  input {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 14px;
  }

  input:focus {
    border-color: #007bff;
    outline: none;
  }

  .error {
    color: red;
    font-size: 13px;
    margin-top: 4px;
    display: block;
    min-height: 18px; /* keeps space even when empty */
  }

  button {
    margin-top: 15px;
    padding: 10px;
    width: 100%;
    border: none;
    background: #007bff;
    color: white;
    font-size: 16px;
    border-radius: 6px;
    cursor: pointer;
  }

  button:disabled {
    background: #ccc;
    cursor: not-allowed;
  }
</style>



</head>
<body>
    <form id="myForm" action="#" method="post">
        <label for="Firstname">First Name</label>
        <input type="text" name="Firstname" placeholder="First Name" required>
        <span class="error" id="firstNameError"></span>
         <br>
         <label for="lastname">Last Name</label>
        <input type="text" name="lastname" placeholder="Last Name" required>
        <span class="error" id="lastNameError"></span>
        <br>
        <label for="age">Age (18-151)</label>
        <input type="number" name="age" id="age" required min="18" max="151" placeholder="Age">
        <span class="error" id="ageError"></span>
        <br>
        <label for="contact">Contact (11 digits)</label>
        <input type="text" id="contact" maxlength="11">
        <span class="error" id="contactError"></span>
         <br>
        <label for="password">Password (8 characters, alphanumeric,at least one uppercase and lowercase)</label>
        <input type="password" id="password" required>
        <span class="error" id="passwordError"></span>
         <br>
         <label for="passwordconfirm" >Confirm Password</label>
         <input type="password"  id="passwordconfirm" required>
         <span class="error" id="confirmPasswordError"></span>
         <br>
         <label for="email">Email (comma separated)</label>
         <input type="text"  id="email" required>
         <span class="error" id="emailsError"></span>
         <br>
         <button type="submit" id="subbtn">Submit</button>  
    </form>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("myForm");
      const button = document.getElementById("subbtn");

      const fields = {
        firstName: form.querySelector('[name="Firstname"]'),
        lastName:  form.querySelector('[name="lastname"]'),
        age:       document.getElementById("age"),
        contact:   document.getElementById("contact"),
        password:  document.getElementById("password"),
        confirm:   document.getElementById("passwordconfirm"),
        email:     document.getElementById("email"),
      };

      const errors = {
        firstName:       document.getElementById("firstNameError"),
        lastName:        document.getElementById("lastNameError"),
        age:             document.getElementById("ageError"),
        contact:         document.getElementById("contactError"),
        password:        document.getElementById("passwordError"),
        confirmPassword: document.getElementById("confirmPasswordError"),
        emails:          document.getElementById("emailsError"),
      };

      function validate() {
        let valid = true;

        // First & last
        if (!fields.firstName.value.trim()) { errors.firstName.textContent = "First name is required."; valid = false; }
        else { errors.firstName.textContent = ""; }

        if (!fields.lastName.value.trim()) { errors.lastName.textContent = "Last name is required."; valid = false; }
        else { errors.lastName.textContent = ""; }

        // Age
        const age = parseInt(fields.age.value, 10);
        if (isNaN(age) || age < 18 || age > 151) { errors.age.textContent = "Age must be between 18 and 151."; valid = false; }
        else { errors.age.textContent = ""; }

        // Contact
        if (!/^\d{11}$/.test(fields.contact.value)) { errors.contact.textContent = "Contact must be exactly 11 digits."; valid = false; }
        else { errors.contact.textContent = ""; }

        // Password rules
        const pass1 = fields.password.value;
        const pass2 = fields.confirm.value;
        const passRules = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;

        if (!passRules.test(pass1)) {
          errors.password.textContent = "Must be 8+ chars with upper, lower, and number.";
          valid = false;
        } else {
          errors.password.textContent = "";
        }

        // Passwords match
        if (pass1 && pass2 && pass1 !== pass2) {
          errors.confirmPassword.textContent = "Passwords do not match.";
          valid = false;
        } else {
          errors.confirmPassword.textContent = "";
        }

        // Emails (comma-separated)
        const emailStr = fields.email.value.trim();
        const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailStr) {
          errors.emails.textContent = "At least one email is required.";
          valid = false;
        } else {
          const list = emailStr.split(",").map(e => e.trim()).filter(Boolean);
          const bad = list.filter(e => !emailRe.test(e));
          if (bad.length) { errors.emails.textContent = "Invalid email(s): " + bad.join(", "); valid = false; }
          else { errors.emails.textContent = ""; }
        }

        button.disabled = !valid;
        return valid;
      }

      // Attach listeners inside DOMContentLoaded
      form.addEventListener("input", validate);

      form.addEventListener("submit", function (e) {
        e.preventDefault();
        if (validate()) {
          alert("Form submitted successfully!");
        }
      });

      // Initial state
      validate();
    });
  </script>
</body>
</html>